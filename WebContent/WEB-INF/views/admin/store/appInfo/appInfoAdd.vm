## multipart-form Ajax 전송
<script type="text/javascript" src="${RESOURCES_PATH}/js/jquery/jquery.treeview.js"></script>
<script type="text/javascript" src="${RESOURCES_PATH}/js/jquery/ajaxfileupload.js"></script>
<script type="text/javascript">

## 전역변수 선언
//중복확인 체크
var appNmDupChk = false; //App명
var pkgNmDupChk_10 = false; //Android패키지명 
var bundleIdDupChk_20 = false; //iOS BundleID 
var urlSchemeDupChk = false; //ios URL Scheme

//중복 값이 change 되었는지 체크
var appNmChangeChk = false; 
var pkgNmChangeChk_10 = false; 
var bundleIdChangeChk_20 = false;  
var urlSchemeChangeChk = false;

var menu_cnt = 1; //단계 카운트

var editModeYN = "$!editModeYN";

jQuery(function(){
     
    jQuery(document).ready(function(){
        if(menu_cnt == 1){
            jQuery('#beforeBtn').hide(); //화면 로드시 이전버튼 안보이게
        }else{
            jQuery('#beforeBtn').show();
        }
		fn_commonBtnProcess(menu_cnt);
    });
    
    ##tab 만들기
    $( "#tabs" ).tabs({}); 
    
    ##목록 리스트 보기 
    jQuery('#appInfoList').click(function(){
        //document.location.href='/admin/store/appInfo';
		document.location.href=CONTEXT_PATH+'/admin/store/appInfo';
    });
    
    ##다음단계 버튼선택
    jQuery('#nextBtn').click(function(){
		//validation 추가함.
		
		if(menu_cnt == 1){
            #if($!appInfo)
                var checkValid = updateCheckValidStep();
                if(checkValid == false){ return; }
            #else 
                var checkValid = registCheckValidStep();
                if(checkValid == false){ return; }
            #end
		}
		if(menu_cnt == 2){
            var isIcon = false;
            jQuery.each( ['imgFile1','IMG_IDXS1'], function(i, l){
                if($('#' + l).val() != '' && $('#' + l).val() != '0'){isIcon = true;}
            });
            if(isIcon == false){
                alert('App Icon '+'#springMessage("menu.store.appManage.alert.imgSize")'); //이미지(120*120)는 등록해야 합니다.
                return;
            }

			var isValid = false;
			jQuery.each( ['imgFile4','imgFile5','imgFile6','imgFile7','IMG_IDXS4','IMG_IDXS5','IMG_IDXS6','IMG_IDXS7'], function(i, l){
               	if($('#' + l).val() != '' && $('#' + l).val() != '0'){isValid = true;}
            });
			if(isValid == false){
				alert('#springMessage("menu.store.appManage.alert.previewImg")'); //미리보기 이미지는 최소 한개이상 등록해야 합니다.
				return;
			}
		}
	
        menu_cnt = parseInt(menu_cnt) + 1;
        fn_commonBtnProcess(menu_cnt);
    });
    
    ##이전단계 버튼선택
    jQuery('#beforeBtn').click(function(){
        menu_cnt = parseInt(menu_cnt) - 1;
        fn_commonBtnProcess(menu_cnt);
    });
	
    ##이전단계, 다음단계 버튼 처리 
    function fn_commonBtnProcess(menu_cnt){
	
        jQuery('#menu1,#menu2,#menu3').hide();
        if(menu_cnt == 3){  

            var android_chk,apple_chk,android_val,apple_val= "";
			//선택한 체크박스 에 따라 탭 선택
            $('input:checkbox[name="PLAT_IDX"]').each(function(i){
                if(i==0){
                    android_chk = jQuery(this).is(":checked");
                    android_val  = jQuery(this).val();
                }
                if(i==1){
                    apple_chk   = jQuery(this).is(":checked");
                    apple_val  = jQuery(this).val();
                }
            });

			//jQuery('#menu1,#menu2').show(); //기본정보, 상세정보를 모두 SHOW
            var url = CONTEXT_PATH + "/admin/store/appInfo/loadMenu3";
			var data = jQuery("form[name=frmAppInfo]").serialize();
			data = data + '&android_chk='+android_chk
                			+ '&apple_chk='+apple_chk
                			+ '&android_val='+android_val
                			+ '&apple_val='+apple_val;
		  
            fn_getCommonList( url, "POST", data, jQuery('#menu3') );
            jQuery('#menu3').show();
        }else{
            jQuery('#menu' + menu_cnt ).show();
        }    
		
//      jQuery('.menu_sub').css('background-color', '#e9e9e9');
//      jQuery('#menu' + menu_cnt + '_title').css('background-color', 'white');
		
		$(".progression").children(".current").removeClass("current");
		//$(".progression span:lt("+ (menu_cnt - 1) +")").addClass("end");
		$(".progression span:eq("+ (menu_cnt - 1) +")").addClass("current");
     
        if(menu_cnt == 1){
            jQuery('#beforeBtn').hide();
        }else{
            jQuery('#beforeBtn').show();
        }


        if(menu_cnt == 3){
            jQuery('#nextBtn').hide();          //다음단계
			jQuery('#appInfoUpdate').show();
            jQuery('#appInfoSave').show();      //등록 
			var frm = document.frmAppInfo;
    	/*
			var input= document.getElementsByTagName( 'input' ); 
            	for ( var z = 0; z < input.length; z++ ) { 
                	 input[z].readOnly = true;
					 input[z].disabled = true;
           		 }
			var select= document.getElementsByTagName( 'select' ); 
            	for ( var s = 0; s<select.length; s++ ) { 
					 select[s].disabled = true;
           		 }
			var textarea= document.getElementsByTagName( 'textarea' ); 
            	for ( var t = 0; t<textarea.length; t++ ) { 
					 textarea[t].disabled = true;
           		 }
		*/
			var btn= document.getElementsByTagName( 'button' ); 
        	
			for ( var b = 0; b<btn.length; b++ ) { 
				 btn[b].disabled = true;
       		}
    		
			document.getElementById('beforeBtn').disabled=false;
			document.getElementById('appInfoList').disabled=false;
			if(document.getElementById('appInfoDelete')) document.getElementById('appInfoDelete').disabled=false;
			if(document.getElementById('appInfoSave')) document.getElementById('appInfoSave').disabled=false;
			if(document.getElementById('appInfoUpdate')) document.getElementById('appInfoUpdate').disabled=false;
        }else{
            jQuery('#nextBtn').show();            //다음단계
			jQuery('#appInfoUpdate').hide();
            jQuery('#appInfoSave').hide();
			var frm = document.frmAppInfo;
    		var input= document.getElementsByTagName( 'input' ); 
            	for ( var z = 0; z < input.length; z++ ) { 
                	 input[z].readOnly = false;
					 input[z].disabled = false;
           		 }
			var select= document.getElementsByTagName( 'select' ); 
            	for ( var s = 0; s<select.length; s++ ) { 
					 select[s].disabled = false;
           		 }
			var textarea= document.getElementsByTagName( 'textarea' ); 
            	for ( var t = 0; t<textarea.length; t++ ) { 
					 textarea[t].disabled = false;
           		 }
			var btn= document.getElementsByTagName( 'button' ); 
            	for ( var b = 0; b<btn.length; b++ ) { 
					 btn[b].disabled = false;
           		 }
        }
    }
    
    ##상단 기본정보, 상세정보, 정보확인  단계 선택시
/*
	jQuery('.menu_sub').click(function(){
        jQuery('#menu1,#menu2,#menu3').hide();
        var obj = jQuery(this).attr('for');
        
        //현재 위치를  전역 변수 cnt에 저장 
        var lastChar =  obj.charAt(obj.length - 1); 
        menu_cnt = lastChar;
        fn_commonBtnProcess(menu_cnt);
     });
*/ 
    ##플랫폼(checkbox) 선택시 버전 db에서 가져와서 버전(select)만들기
    jQuery('input[name=PLAT_IDX]').click(function(){
       
        var plat_idx = jQuery(this).val();                        //플랫폼구분
        var plat_cd = jQuery(this).attr("platCd");             //플랫폼코드 ex.10,20
        var plat_ver_idx = "PLAT_VER_IDX_" + plat_cd; //ex.PLAT_VER_IDX_10
        var plat_ver_select = "select[id=" + plat_ver_idx + "]";
        
        jQuery.ajax({
            url     : 'json/getPlatver',
            type    : 'post',
            dataType: "json" ,
            data    : { PLAT_IDX : plat_idx } ,
            success : function(json){
                var txt = '<option value="">'+'#springMessage("common.select.choose")'+'</option>'; //선택
                for(var i=0;i<json.ver.length;i++){
                    txt += '<option value="'+json.ver[i].PLAT_VER_IDX+'">'+json.ver[i].PLAT_VER_CD+' '+json.ver[i].PLAT_VER_NM+'</option>';
                }
                jQuery(plat_ver_select).html(txt);
           }
        });
        
        var android_chk,apple_chk,android_val,android_val= "";
         
        //선택한 체크박스 에 따라 탭 선택
        $('input:checkbox[name="PLAT_IDX"]').each(function(i){
            
            if(i==0){
                android_chk = jQuery(this).is(":checked");
                android_val  = jQuery(this).val();
            }
            if(i==1){
                apple_chk   = jQuery(this).is(":checked");
                android_val  = jQuery(this).val();
            }
          });
           
          if(plat_idx == "2"){
              if(android_chk){
                  $( "#tabs" ).tabs('enable',0);
                  $( "#tabs").tabs({'active': 0});
              }else{
                  $( "#tabs").tabs({'active': 1});
                  // $( "#tabs" ).tabs('disabled',0);
              }
          }
          if(plat_idx == "3"){
              if(apple_chk){
                  $( "#tabs" ).tabs('enable',1);
                  $( "#tabs").tabs({'active': 1});
              }else{
                 //$( "#tabs").tabs({'disabled': 1});
                  $( "#tabs").tabs({'active': 0});
              }
          }
     });

    ##플랫폼버전 클릭시 , 플랫폼구분 선택여부 체크
    jQuery("select[id^='PLAT_VER_IDX_']").click(function(i){
        var selectedId = jQuery(this).attr("id");
        if(selectedId == "PLAT_VER_IDX_10"){
            if(jQuery(this).val() != ""){
                if( !jQuery(jQuery('input[name="PLAT_IDX"]')[0]).is(":checked") ){
                    alert('#springMessage("menu.store.appManage.alert.platformAndroid")'); //플랫폼 구분을 안드로이드로 선택합니다.
                    jQuery(jQuery('input[name="PLAT_IDX"]')[0]).attr("checked", true);
                    return;
                }
            }else{
                if( !jQuery(jQuery('input[name="PLAT_IDX"]')[0]).is(":checked") ){
                    alert('#springMessage("menu.store.appManage.alert.platformType")'); //"플랫폼 구분을 체크해 주세요."
                    return;
                }
            }
        }
        
        if(selectedId == "PLAT_VER_IDX_20"){
            if(jQuery(this).val() != ""){
                if( !jQuery(jQuery('input[name="PLAT_IDX"]')[1]).is(":checked") ){
                    alert('#springMessage("menu.store.appManage.alert.platformApple")'); //플랫폼 구분을 애플로 선택합니다.
                    jQuery(jQuery('input[name="PLAT_IDX"]')[1]).attr("checked", true);
                    return;
                }
            }else{
                if( !jQuery(jQuery('input[name="PLAT_IDX"]')[1]).is(":checked") ){
                    alert('#springMessage("menu.store.appManage.alert.platformType")'); // 플랫폼 구분을 체크해 주세요.
                    return;
                }
            }
        }
    });
    
    ##등록,수정 전  유효성검사
    function validField(){
       
		var inputValid = jQuery("form[id=frmAppInfo]").fn_mp_validate(); //유효성 체크
		if(inputValid == false){return false;}
		
        //플랫폼 구분이 체크 됐는지 검사
        var chk = "";
        $('input[id="PLAT_IDX"]').each(function(i){
            if( jQuery(jQuery('input[name="PLAT_IDX"]')[i]).is(":checked") ){
                chk = "chk";
            }
        });
        if(chk == ""){
            alert('#springMessage("menu.store.appManage.alert.choosePlatform")'); //플랫폼 구분을 선택해 주세요.
            return false;
        }
        
        //안드로이드를 체크했을때
        if( jQuery(jQuery('input[name="PLAT_IDX"]')[0]).is(":checked") ){
		
            if( jQuery("select[name=PLAT_VER_IDX_10] option:selected",'#frmTable10').val() == ""){
                alert('#springMessage("menu.store.appManage.alert.chooseAndroid")'); //안드로이드 플랫폼 버전을 선택 해 주세요.
                jQuery("select[name=PLAT_VER_IDX_10]",'#frmTable10').focus();
                return false;
            }
            if(jQuery("#BIN_VER1_10").val() == ""){
                alert('#springMessage("menu.store.appManage.alert.binaryIn")'); //바이너리 버전을 입력 해 주세요.
                jQuery("input[name=BIN_VER1_10]",'#frmTable10').focus();
                return false;
            }else{
                if(!jQuery("#BIN_VER1_10").val().fn_isNumber()){
                    alert('#springMessage("menu.store.appManage.alert.binaryNumIn")'); //바이너리 버전은 숫자로 입력해 주세요.
                    jQuery("input[name=BIN_VER1_10]",'#frmTable10').focus();
                    return false;
                }
            }
            if(jQuery("#BIN_VER2_10").val() == ""){
            	alert('#springMessage("menu.store.appManage.alert.binaryIn")'); //바이너리 버전을 입력 해 주세요.
                jQuery("input[name=BIN_VER2_10]",'#frmTable10').focus();
                return false;
            }else{
                if(!jQuery("#BIN_VER2_10").val().fn_isNumber()){
                	alert('#springMessage("menu.store.appManage.alert.binaryNumIn")'); //바이너리 버전은 숫자로 입력해 주세요.
                    jQuery("input[name=BIN_VER2_10]",'#frmTable10').focus();
                    return false;
                }
            }
            if(jQuery("#BIN_VER3_10").val() == ""){
            	alert('#springMessage("menu.store.appManage.alert.binaryIn")'); //바이너리 버전을 입력 해 주세요.
                jQuery("input[name=BIN_VER3_10]",'#frmTable10').focus();
                return false;
            }else{
                if(!jQuery("#BIN_VER3_10").val().fn_isNumber()){
                	alert('#springMessage("menu.store.appManage.alert.binaryNumIn")'); //바이너리 버전은 숫자로 입력해 주세요.
                    jQuery("input[name=BIN_VER3_10]",'#frmTable10').focus();
                    return false;
                }
            }
            
            if(jQuery("#binaryFile_10_text").val() == ""){
                alert('#springMessage("menu.store.appManage.alert.binaryFileIn")'); //안드로이드 바이너리 파일을 입력해주세요.
                jQuery("#binaryFile_10",'#frmTable10').focus();
                return false;
            }
        }     
       
        //iOS 체크했을때
        if( jQuery(jQuery('input[name="PLAT_IDX"]')[1]).is(":checked") ){
		
            if( jQuery("select[name=PLAT_VER_IDX_20] option:selected",'#frmTable20').val() == ""){
                alert('#springMessage("menu.store.appManage.alert.chooseiOS")'); //iOS 플랫폼 버전을 선택해주세요.
                jQuery("select[name=PLAT_VER_IDX_20]",'#frmTable20').focus();
                return false;
            }
            
            if(jQuery("#BIN_VER1_20").val() == ""){
            	alert('#springMessage("menu.store.appManage.alert.binaryIn")'); //바이너리 버전을 입력 해 주세요.
            	jQuery("input[name=BIN_VER1_20]",'#frmTable20').focus();
                return false;
            }else{
                if(!jQuery("#BIN_VER1_20").val().fn_isNumber()){
                	alert('#springMessage("menu.store.appManage.alert.binaryNumIn")'); //바이너리 버전은 숫자로 입력해 주세요.
                    jQuery("input[name=BIN_VER1_20]",'#frmTable20').focus();
                    return false;
                }
            }
            if(jQuery("#BIN_VER2_20").val() == ""){
            	alert('#springMessage("menu.store.appManage.alert.binaryIn")'); //바이너리 버전을 입력 해 주세요.
            	jQuery("input[name=BIN_VER2_20]",'#frmTable20').focus();
                return false;
            }else{
                if(!jQuery("#BIN_VER2_20").val().fn_isNumber()){
                	alert('#springMessage("menu.store.appManage.alert.binaryNumIn")'); //바이너리 버전은 숫자로 입력해 주세요.
                    jQuery("input[name=BIN_VER2_20]",'#frmTable20').focus();
                    return false;
                }
            }
            if(jQuery("#BIN_VER3_20").val() == ""){
            	alert('#springMessage("menu.store.appManage.alert.binaryIn")'); //바이너리 버전을 입력 해 주세요.
            	jQuery("input[name=BIN_VER3_20]",'#frmTable20').focus();
                return false;
            }else{
                if(!jQuery("#BIN_VER3_20").val().fn_isNumber()){
                	alert('#springMessage("menu.store.appManage.alert.binaryNumIn")'); //바이너리 버전은 숫자로 입력해 주세요.
                    jQuery("input[name=BIN_VER3_20]",'#frmTable20').focus();
                    return false;
                }
            }
            
            if(jQuery("#binaryFile_20_text").val() == ""){
                alert('#springMessage("menu.store.appManage.alert.binaryiOSFileIn")'); //iOS 바이너리 파일을 입력해주세요.
                jQuery("#binaryFile_20",'#frmTable20').focus();
                return false;
            }
        }
         
    }
   
     ##앱명, 패키지명, URL 중복체크버튼 선택시
     jQuery('#checkDupAppNm, #checkDupPakgId_10, #checkDupPakgId_20, #checklDupCallUrl').click(function(){
        var check = jQuery(this).attr('check');
        
        if(check == "APP_NM" && jQuery("#APP_NM").val() == ""){
            alert('#springMessage("menu.store.appManage.alert.appNameIn")'); //App명 항목을 입력해 주세요.
            jQuery("#APP_NM").focus();
            return;
        } else if(check == "PAKG_ID_10" || check == "PAKG_ID_20"){
		
            if(jQuery('#' + check).val() == ""){
                alert('#springMessage("menu.store.appManage.alert.packageNameIn")'); //패키지명을 입력해 주세요.
                jQuery("#" + check).focus();
                return;
            }else{
            
                if(!fn_input_chk(jQuery("#" + check).val() )){
                    jQuery("#" + check).focus();
                    return;
                }
            }
                         
        } else if(check == "CALL_URL"){
            if( jQuery('#CALL_URL').val() == ""){
                alert('#springMessage("menu.store.appManage.alert.callURLIn")'); //호출 URL을 입력해 주세요.
                jQuery("#CALL_URL").focus();
                return;
            }else{
                if(!fn_input_chk(jQuery("#CALL_URL").val() )){
                    jQuery("#CALL_URL").focus();
                    return;
                }
            }    
        } 
        
        fn_checkDup(check);//중복체크함수 호출
    });
    
    ##중복체크 함수
    function fn_checkDup(check){
       var url = CONTEXT_PATH + "/admin/store/appInfoAdd/checkDup";
       //var data = jQuery("form[name=frmAppInfo]").serialize();
       jQuery.ajax({
                url:url,
                type:"POST",
                data: {
                        APP_NM    : jQuery('#APP_NM').val(),
                        PAKG_ID_10   : jQuery('#PAKG_ID_10').val(),
                        PAKG_ID_20   : jQuery('#PAKG_ID_20').val(),
                        CALL_URL  : jQuery('#CALL_URL').val(),
                        CHECK      : check
                        } ,
                dataType:"json",
                success:function(data){
                    
					alert(data.msg);

                    if(data.flag == "OK"){
                        if(check == "APP_NM") {
							appNmDupChk = true; //App명
							appNmChangeChk = false;
                        } else if(check == "PAKG_ID_10") {
							pkgNmDupChk_10 = true; //패키지명
							pkgNmChangeChk_10 = false;
                        } else if(check == "PAKG_ID_20") {
							bundleIdDupChk_20 = true; //패키지명
							bundleIdChangeChk_20 = false;
                        } else if(check == "CALL_URL"){
							urlSchemeDupChk = true;
							urlSchemeChangeChk = false;
						}
                    }else{
                        if(check == "APP_NM")  appNmDupChk = false; //App명
                        else if(check == "PAKG_ID_10")  pkgNmDupChk_10 = false; //패키지명
                        else if(check == "PAKG_ID_20")  bundleIdDupChk_20 = false; //패키지명
                        else if(check == "CALL_URL")  urlSchemeDupChk = false; 
                    }
                }
        });
    }
	
	function registCheckValidStep(){
	
		var inputValid = jQuery("form[id=frmAppInfo]").fn_mp_validate(); //유효성 체크
		if(inputValid == false){return false;}
	
		if(jQuery('#SVC_ID').val() == "") {
			alert('#springMessage("menu.store.appManage.alert.chooseService")'); //"서비스명이 선택되지 않았습니다."
			return (false);
		}
		
		if(appNmChangeChk || !appNmDupChk){
		    alert('#springMessage("menu.store.appManage.alert.appNameCheck")'); //App 명 중복체크를 해주세요.
            jQuery("#APP_NM").focus();
            return (false);
        }
		
		//플랫폼 구분이 체크 됐는지 검사
        var chk = "";
        $('input[name="PLAT_IDX"]').each(function(i){
            if( jQuery(jQuery('input[name="PLAT_IDX"]')[i]).is(":checked") ){
                chk = "chk";
            }
        });
        if(chk == ""){
        	alert('#springMessage("menu.store.appManage.alert.choosePlatform")'); //플랫폼 구분을 선택해 주세요.
		 	jQuery('input[name="PLAT_IDX"]')[0].focus();
            return false;
        }
		
		if(jQuery("#SORT_NO").val() == ""){
        	alert('#springMessage("menu.store.appManage.alert.rangeIn")'); //"정렬순서를 입력해주세요.."
            jQuery("#SORT_NO").focus();
          	return false;
        }
        
        //안드로이드를 체크했을때
        if( jQuery(jQuery('input[name="PLAT_IDX"]')[0]).is(":checked") ){
		
			if(jQuery("#PAKG_ID_10").val() == ""){
				alert('#springMessage("menu.store.appManage.alert.packageNameIn")'); //패키지명을 입력해 주세요.
				jQuery("#PAKG_ID_10").focus();
                return (false);
            }
			
			if(pkgNmChangeChk_10 || !pkgNmDupChk_10){
                alert('#springMessage("menu.store.appManage.alert.packageNameCheck")'); //패키지명 중복체크를 해주세요.
                jQuery("#PAKG_ID_10").focus();
                return (false);
            }
    		
            if( jQuery("select[name=PLAT_VER_IDX_10] option:selected",'#frmTable10').val() == ""){
                alert('#springMessage("menu.store.appManage.alert.chooseAndroid")'); //안드로이드 플랫폼 버전을 선택 해 주세요.
                jQuery("select[name=PLAT_VER_IDX_10]",'#frmTable10').focus();
                return false;
            }
            if(jQuery("#BIN_VER1_10").val() == ""){
            	alert('#springMessage("menu.store.appManage.alert.binaryIn")'); //바이너리 버전을 입력 해 주세요.
            	jQuery("input[name=BIN_VER1_10]",'#frmTable10').focus();
                return false;
            }else{
                if(!jQuery("#BIN_VER1_10").val().fn_isNumber()){
                	alert('#springMessage("menu.store.appManage.alert.binaryNumIn")'); //바이너리 버전은 숫자로 입력해 주세요.
                    jQuery("input[name=BIN_VER1_10]",'#frmTable10').focus();
                    return false;
                }
            }
            if(jQuery("#BIN_VER2_10").val() == ""){
            	alert('#springMessage("menu.store.appManage.alert.binaryIn")'); //바이너리 버전을 입력 해 주세요.
            	jQuery("input[name=BIN_VER2_10]",'#frmTable10').focus();
                return false;
            }else{
                if(!jQuery("#BIN_VER2_10").val().fn_isNumber()){
                	alert('#springMessage("menu.store.appManage.alert.binaryNumIn")'); //바이너리 버전은 숫자로 입력해 주세요.
                    jQuery("input[name=BIN_VER2_10]",'#frmTable10').focus();
                    return false;
                }
            }
            if(jQuery("#BIN_VER3_10").val() == ""){
            	alert('#springMessage("menu.store.appManage.alert.binaryIn")'); //바이너리 버전을 입력 해 주세요.
            	jQuery("input[name=BIN_VER3_10]",'#frmTable10').focus();
                return false;
            }else{
                if(!jQuery("#BIN_VER3_10").val().fn_isNumber()){
                	alert('#springMessage("menu.store.appManage.alert.binaryNumIn")'); //바이너리 버전은 숫자로 입력해 주세요.
                    jQuery("input[name=BIN_VER3_10]",'#frmTable10').focus();
                    return false;
                }
            }
            
            if(jQuery("#binaryFile_10_text").val() == ""){
                alert('#springMessage("menu.store.appManage.alert.androidAPKIn")'); //안드로이드 APK 바이너리 파일을 등록해주세요.
                jQuery("#binaryFile_10",'#frmTable10').focus();
                return false;
            }
        }     
       
        //iOS를 체크했을때
        if( jQuery(jQuery('input[name="PLAT_IDX"]')[1]).is(":checked") ){
			
			if(jQuery("#PAKG_ID_20").val() == ""){
                alert("Bundle ID"+'#springMessage("common.alert.doInput2")'); //를 입력해주세요.
                jQuery("#PAKG_ID_20").focus();
                return (false);
            }
			
			if(bundleIdChangeChk_20 || !bundleIdDupChk_20){
                alert("Bundle ID "+'#springMessage("menu.store.appManage.alert.sameCheck")'); //중복체크를 해주세요.
                jQuery("#PAKG_ID_20").focus();
                return (false);
			}
			
			if(jQuery("#CALL_URL").val() == ""){
                alert("iOS URL SCHEME"+'#springMessage("common.alert.doInput")'); //를 입력해주세요.
                jQuery("#CALL_URL").focus();
                return (false);
        	}
			
			if(urlSchemeChangeChk || !urlSchemeDupChk){
                alert("iOS URL SCHEME "+'#springMessage("menu.store.appManage.alert.sameCheck")'); //중복체크를 해주세요.
                jQuery("#CALL_URL").focus();
                return (false);
        	}
			
            if( jQuery("select[name=PLAT_VER_IDX_20] option:selected",'#frmTable20').val() == ""){
            	alert('#springMessage("menu.store.appManage.alert.chooseiOS")'); //iOS 플랫폼 버전을 선택해주세요.
            	jQuery("select[name=PLAT_VER_IDX_20]",'#frmTable20').focus();
                return false;
            }
            
            if(jQuery("#BIN_VER1_20").val() == ""){
            	alert('#springMessage("menu.store.appManage.alert.binaryIn")'); //바이너리 버전을 입력 해 주세요.
            	jQuery("input[name=BIN_VER1_20]",'#frmTable20').focus();
                return false;
            }else{
                if(!jQuery("#BIN_VER1_20").val().fn_isNumber()){
                	alert('#springMessage("menu.store.appManage.alert.binaryNumIn")'); //바이너리 버전은 숫자로 입력해 주세요.
                    jQuery("input[name=BIN_VER1_20]",'#frmTable20').focus();
                    return false;
                }
            }
            if(jQuery("#BIN_VER2_20").val() == ""){
            	alert('#springMessage("menu.store.appManage.alert.binaryIn")'); //바이너리 버전을 입력 해 주세요.
            	jQuery("input[name=BIN_VER2_20]",'#frmTable20').focus();
                return false;
            }else{
                if(!jQuery("#BIN_VER2_20").val().fn_isNumber()){
                	alert('#springMessage("menu.store.appManage.alert.binaryNumIn")'); //바이너리 버전은 숫자로 입력해 주세요.
                    jQuery("input[name=BIN_VER2_20]",'#frmTable20').focus();
                    return false;
                }
            }
            if(jQuery("#BIN_VER3_20").val() == ""){
            	alert('#springMessage("menu.store.appManage.alert.binaryIn")'); //바이너리 버전을 입력 해 주세요.
            	jQuery("input[name=BIN_VER3_20]",'#frmTable20').focus();
                return false;
            }else{
                if(!jQuery("#BIN_VER3_20").val().fn_isNumber()){
                	alert('#springMessage("menu.store.appManage.alert.binaryNumIn")'); //바이너리 버전은 숫자로 입력해 주세요.
                    jQuery("input[name=BIN_VER3_20]",'#frmTable20').focus();
                    return false;
                }
            }
            
            if(jQuery("#binaryFile_20_text").val() == ""){
                alert('#springMessage("menu.store.appManage.alert.binaryiOSFileIn")'); //iOS 바이너리 파일을 입력해주세요.
                jQuery("#binaryFile_20",'#frmTable20').focus();
                return false;
            }
        }
        return true;
	}
	//수정시 체크
	function updateCheckValidStep(){
	
		var inputValid = jQuery("form[id=frmAppInfo]").fn_mp_validate(); //유효성 체크
		if(inputValid == false){return false;}
		
        //플랫폼 구분이 체크 됐는지 검사
        var chk = "";
        $('input[name="PLAT_IDX"]').each(function(i){
            if( jQuery(jQuery('input[name="PLAT_IDX"]')[i]).is(":checked") ){
                chk = "chk";
            }
        });
        if(chk == ""){
        	alert('#springMessage("menu.store.appManage.alert.choosePlatform")'); //플랫폼 구분을 선택해 주세요.
            return false;
        }
        
        
		//if(validField()){
            if(appNmChangeChk && !appNmDupChk){
            	 alert('#springMessage("menu.store.appManage.alert.appNameCheck")'); //App 명 중복체크를 해주세요.
            	jQuery("#APP_NM").focus();
                return (false);
            }
			
		//안드로이드를 체크했을때
        if( jQuery(jQuery('input[name="PLAT_IDX"]')[0]).is(":checked") ){
		
			if(jQuery("#PAKG_ID_10").val() == ""){
				alert('#springMessage("menu.store.appManage.alert.packageNameIn")'); //패키지명을 입력해 주세요.
				jQuery("#PAKG_ID_10").focus();
                return (false);
            }
			
			if(pkgNmChangeChk_10 && !pkgNmDupChk_10){
				alert('#springMessage("menu.store.appManage.alert.packageNameCheck")'); //패키지명 중복체크를 해주세요.
				jQuery("#PAKG_ID_10").focus();
                return (false);
            }
			
            if( jQuery("select[name=PLAT_VER_IDX_10] option:selected",'#frmTable10').val() == ""){
            	alert('#springMessage("menu.store.appManage.alert.chooseAndroid")'); //안드로이드 플랫폼 버전을 선택 해 주세요.
            	jQuery("select[name=PLAT_VER_IDX_10]",'#frmTable10').focus();
                return false;
            }
            if(jQuery("#BIN_VER1_10").val() == ""){
            	alert('#springMessage("menu.store.appManage.alert.binaryIn")'); //바이너리 버전을 입력 해 주세요.
            	jQuery("input[name=BIN_VER1_10]",'#frmTable10').focus();
                return false;
            }else{
                if(!jQuery("#BIN_VER1_10").val().fn_isNumber()){
                	alert('#springMessage("menu.store.appManage.alert.binaryNumIn")'); //바이너리 버전은 숫자로 입력해 주세요.
                    jQuery("input[name=BIN_VER1_10]",'#frmTable10').focus();
                    return false;
                }
            }
            if(jQuery("#BIN_VER2_10").val() == ""){
            	alert('#springMessage("menu.store.appManage.alert.binaryIn")'); //바이너리 버전을 입력 해 주세요.
            	jQuery("input[name=BIN_VER2_10]",'#frmTable10').focus();
                return false;
            }else{
                if(!jQuery("#BIN_VER2_10").val().fn_isNumber()){
                	alert('#springMessage("menu.store.appManage.alert.binaryNumIn")'); //바이너리 버전은 숫자로 입력해 주세요.
                    jQuery("input[name=BIN_VER2_10]",'#frmTable10').focus();
                    return false;
                }
            }
            if(jQuery("#BIN_VER3_10").val() == ""){
            	alert('#springMessage("menu.store.appManage.alert.binaryIn")'); //바이너리 버전을 입력 해 주세요.
            	jQuery("input[name=BIN_VER3_10]",'#frmTable10').focus();
                return false;
            }else{
                if(!jQuery("#BIN_VER3_10").val().fn_isNumber()){
                	alert('#springMessage("menu.store.appManage.alert.binaryNumIn")'); //바이너리 버전은 숫자로 입력해 주세요.
                    jQuery("input[name=BIN_VER3_10]",'#frmTable10').focus();
                    return false;
                }
            }
            
            if(jQuery("#binaryFile_10_text").val() == ""){
                alert('#springMessage("menu.store.appManage.alert.binaryFileIn")'); //"안드로이드 바이너리 파일을 입력해주세요."
                jQuery("#binaryFile_10",'#frmTable10').focus();
                return false;
            }
        }     
       
        //iOS 체크했을때
        if( jQuery(jQuery('input[name="PLAT_IDX"]')[1]).is(":checked") ){
		
			if(jQuery("#PAKG_ID_20").val() == ""){
                alert("Bundle ID"+'#springMessage("common.alert.doInput2")'); //를 입력해주세요.
                jQuery("#PAKG_ID_20").focus();
                return (false);
            }
			
			if(bundleIdChangeChk_20 && !bundleIdDupChk_20){
                alert("Bundle ID "+'#springMessage("menu.store.appManage.alert.sameCheck")'); //중복체크를 해주세요.
                jQuery("#PAKG_ID_20").focus();
                return (false);
			}
			
			if(jQuery("#CALL_URL").val() == ""){
                alert("iOS URL SCHEME"+'#springMessage("common.alert.doInput")'); //를 입력해주세요.
                jQuery("#CALL_URL").focus();
                return (false);
        	}
			
			if(urlSchemeChangeChk && !urlSchemeDupChk){
                alert("iOS URL SCHEME "+'#springMessage("menu.store.appManage.alert.sameCheck")'); //중복체크를 해주세요.
                jQuery("#CALL_URL").focus();
                return (false);
        	}	
		
            if( jQuery("select[name=PLAT_VER_IDX_20] option:selected",'#frmTable20').val() == ""){
            	alert('#springMessage("menu.store.appManage.alert.chooseiOS")'); //iOS 플랫폼 버전을 선택해주세요.
            	jQuery("select[name=PLAT_VER_IDX_20]",'#frmTable20').focus();
                return false;
            }
            
            if(jQuery("#BIN_VER1_20").val() == ""){
            	alert('#springMessage("menu.store.appManage.alert.binaryIn")'); //바이너리 버전을 입력 해 주세요.
            	jQuery("input[name=BIN_VER1_20]",'#frmTable20').focus();
                return false;
            }else{
                if(!jQuery("#BIN_VER1_20").val().fn_isNumber()){
                	alert('#springMessage("menu.store.appManage.alert.binaryNumIn")'); //바이너리 버전은 숫자로 입력해 주세요.
                    jQuery("input[name=BIN_VER1_20]",'#frmTable20').focus();
                    return false;
                }
            }
            if(jQuery("#BIN_VER2_20").val() == ""){
            	alert('#springMessage("menu.store.appManage.alert.binaryIn")'); //바이너리 버전을 입력 해 주세요.
            	jQuery("input[name=BIN_VER2_20]",'#frmTable20').focus();
                return false;
            }else{
                if(!jQuery("#BIN_VER2_20").val().fn_isNumber()){
                	alert('#springMessage("menu.store.appManage.alert.binaryNumIn")'); //바이너리 버전은 숫자로 입력해 주세요.
                    jQuery("input[name=BIN_VER2_20]",'#frmTable20').focus();
                    return false;
                }
            }
            if(jQuery("#BIN_VER3_20").val() == ""){
            	alert('#springMessage("menu.store.appManage.alert.binaryIn")'); //바이너리 버전을 입력 해 주세요.
                jQuery("input[name=BIN_VER3_20]",'#frmTable20').focus();
                return false;
            }else{
                if(!jQuery("#BIN_VER3_20").val().fn_isNumber()){
                	alert('#springMessage("menu.store.appManage.alert.binaryNumIn")'); //바이너리 버전은 숫자로 입력해 주세요.
                    jQuery("input[name=BIN_VER3_20]",'#frmTable20').focus();
                    return false;
                }
            }
            
            if(jQuery("#binaryFile_20_text").val() == ""){
            	alert('#springMessage("menu.store.appManage.alert.binaryiOSFileIn")'); //iOS 바이너리 파일을 입력해주세요.
            	jQuery("#binaryFile_20",'#frmTable20').focus();
                return false;
            }
        }
         /*
            if(jQuery(jQuery('input[id="PLAT_IDX"]')[0]).is(":checked")  && pkgNmChangeChk_10 && !pkgNmDupChk_10){
                alert("Package 명 중복체크를 실행해주세요.");
                jQuery("#PAKG_ID_10").focus();
                return (false);
            }
            if(jQuery(jQuery('input[id="PLAT_IDX"]')[1]).is(":checked")  && bundleIdChangeChk_20 && !bundleIdDupChk_20){
                alert("Package 명 중복체크를 실행해주세요.");
                jQuery("#PAKG_ID_20").focus();
                return (false);
            }
            if(urlSchemeChangeChk && !urlSchemeDupChk){
                if( jQuery(jQuery('input[id="PLAT_IDX"]')[1]).is(":checked") ){
                    alert("호출 URL 중복체크를 실행해주세요.");
                    jQuery("#CALL_URL").focus();
                    return (false);
                }
            }
			*/
			/*
        }else{
            return false;
        }
		return true;
		*/
	}
     
    ## 등록 버튼 클릭시
    jQuery('#appInfoSave').click(function(){
        
		//유효성 검사
        if(registCheckValidStep() && confirm('#springMessage("common.alert.doRegist")')){ //"등록하시겠습니까?"
		
            document.frmAppInfo.action  = CONTEXT_PATH + "/admin/store/appInfo/regist";
            document.frmAppInfo.submit();
        }
    });
    
    ## 수정 버튼 클릭시
    jQuery(document).on('click', '#appInfoUpdate', function(){
        //유효성 검사
		if(confirm('#springMessage("common.alert.doModify")')){ //"수정하시겠습니까?"
            document.frmAppInfo.action  = CONTEXT_PATH + "/admin/store/appInfo/modify";
            document.frmAppInfo.submit(); 
        }
    });
    
    ## 앱정보 삭제
    jQuery(document).on('click', '#appInfoDelete', function(){
        if(confirm('#springMessage("menu.store.appManage.alert.doDelete")')){ //'선택한 APP 정보는  하위 관련 DB를 모두 삭제합니다.\n\n삭제하시겠습니까?'
            jQuery.ajax({
                url     : CONTEXT_PATH + '/admin/store/appInfo/deleteAppInfo',
                type    : 'post',
                dataType: "json" ,
                data    : { APP_IDX : jQuery('input[name="APP_IDX"]').val() } ,
                success : function(data){
                    alert(data.msg);
                    if(data.result > 0){
                         document.location.href=CONTEXT_PATH + '/admin/store/appInfo';
                    }
                }
            });
        }
    });
    
    ## 이미지 개별 삭제
    jQuery("button[id^='imgDelete']").click(function(){
		var thisObj = jQuery(this);
         var imgIdx =  thisObj.attr("imgIdx") ;
         var fileNm =  thisObj.attr("fileNm") ;  
         var delImgId = thisObj.attr("delImgId"); // 삭제대상 id
         var imgIdxS =  thisObj.attr("imgIdxS");  // HIDDEN IMG_IDXS 값을 초기화.ex.IMG_IDXS1
		 
         if(fileNm == ""){
            alert('#springMessage("menu.store.appManage.alert.noDeleteImg")'); //"삭제할 이미지가 없습니다."
            return; 
         }
     
         if(confirm('#springMessage("common.alert.doDelete")')){ //'삭제 하시겠습니까?'
            jQuery.ajax({
                url     :  CONTEXT_PATH + '/admin/store/appInfo/deleteAppImg',
                type    : 'post',
                dataType: "json" ,
                data    : { IMG_IDX : imgIdx  } ,
                success : function(data){
                    alert(data.msg);
                    if(data.result > 0){
                         jQuery('img[id=' +  delImgId  +']').attr("src", ""); 
                         jQuery('input[id=' + imgIdxS + ']').val(""); 
						 
						 thisObj.attr("fileNm","");
                    }
                }
            });
        }
    });
   
    ##App 바이너리 버전 변경시,  
    jQuery('input[id^="BIN_VER"]').change(function(){
        var platCd = jQuery(this).attr("platCd");   
        var ver = jQuery("#BIN_VER1_" + platCd).val() + "." +  jQuery("#BIN_VER2_" + platCd).val() + "." + jQuery("#BIN_VER3_" + platCd).val();
        jQuery("#BIN_VER_" + platCd).val(ver); 
        
    });
     
    ##바이너리 파일 변경시, 확장자 체크 
    jQuery('input[id^="binaryFile"]').on('change',function(){
        var plat_cd = jQuery(this).attr("platCd");             //플랫폼코드 ex.10,20
        var binaryFileVal =  jQuery("input[id='binaryFile_" + plat_cd + "']").val();
        var ext = binaryFileVal.substring(binaryFileVal.lastIndexOf(".")+1);
        
        if(plat_cd == "10"){  //안드로이드
            if(ext != "apk"){
                alert('#springMessage("menu.store.appManage.alert.notRegistFile")'); //등록할 수 없는 파일입니다.
                jQuery(this).val("");
                jQuery(binaryFile_10_text).val("");
                return;
            }else{
                jQuery("#binaryFile_10_text").val(jQuery(this).val());
            }
        
        }else if (plat_cd == "20") { //애플   
            if(ext != "ipa"){
                alert('#springMessage("menu.store.appManage.alert.notRegistFile")'); //등록할 수 없는 파일입니다.
                jQuery(this).val(""); 
                jQuery(binaryFile_20_text).val("");
                return;
            }else{
                jQuery("#binaryFile_20_text").val(jQuery(this).val());
            }       
        }
    });
    
    ##이미지 파일 확장자 체크
    jQuery('input[id^="imgFile"]').on('change',function(){
        var imgFileVal =  jQuery(this).val();
        var ext = imgFileVal.substring(imgFileVal.lastIndexOf(".")+1).toLowerCase();
       
        if(ext != "jpg" && ext != "gif" && ext != "png"){
             alert('#springMessage("menu.store.appManage.alert.incorrectImg")'); //"올바르지 못한 이미지 파일입니다.\n\n(가능대상 : jpg, gif, png)"
        }
       
    });
   
    //============== 카테고리 팝업 start ====================
    ##다이얼로그 생성(ID별로 생성 가능)
    jQuery( "#dialogPop" ).dialog({
        autoOpen: false,
        modal   : true,
        width   : 600,
        height  : 400, // 'auto' 가능
        title     : '#springMessage("menu.store.appManage.categoryManage")', //"카테고리 관리",
        open    : function(){ fn_dialogDesign('dialogPop'); }//타이틀 및 닫기버튼디자인적용(ID전달 필요)
    });
    
    ##카테고리선택
    jQuery('#popupCatg').click(function(){
        //컨텐츠 채우기(url, method, data, targetObject)
        var url = CONTEXT_PATH + "/admin/store/appInfo/tree";
        fn_getCommonList( url, "GET", "", jQuery('#dialogPop') );
        
        //left 트리메뉴
        $("#browser").treeview({useToggle:false});
        //색상 및 커서상태 변경
        $('.treeview span.folder').css({'color':'black','cursor':'text'});    
        
        //열기
//        jQuery("#dialogPop").dialog('open');
		
		
//		var url = CONTEXT_PATH + "/admin/fraudPrevent/appManageDetail";
    	var type = "GET";
    	var data = "";
    	var target = $("#windowPop");
    	var whideh = 600;
    	var title = '#springMessage("menu.store.appManage.categoryManage")'; //"카테고리 관리",
    	fn_getCommonPopupDiv( url, type, data , target , whideh, title );
		
		
    });
    
    ##다이얼로그 닫기(button.#id 로 지정한다.)
    jQuery(document).on('click','button.dialogPop',function(){
        jQuery( "#dialogPop" ).dialog('close');
    });
    //============== 카테고리 팝업 end ====================
    
    ##카테고리코드 팝업 조회
	/*
    jQuery(document).on('click','span[catg_cd]',function(e){
        jQuery('#CATG_NM').val(jQuery(this).text());
        jQuery('#CATG_CD').val(jQuery(this).attr('catg_cd'));
        jQuery( "#dialogPop" ).dialog('close');
    });
 */
    jQuery(document).on('click','.treenode',function(e){
        jQuery('#CATG_NM').val(jQuery(this).attr('catg_nm'));
        jQuery('#CATG_CD').val(jQuery(this).attr('catg_cd'));
        //jQuery( "#dialogPop" ).dialog('close');
        fn_closePopup();
    });
    ##안드로이드 바이너리 파일 history 조회 팝업
     $(document).on("click","#binaryHistoryList_10",function(){
        var appPlatIdx = $('#APP_PLAT_IDX_10').val();
        var url = CONTEXT_PATH + "/admin/store/appInfo/binaryHistory";
        var type = "GET";
        var data = "APP_PLAT_IDX=" + appPlatIdx + "&PAGE_NUM=1" ;
        
        var target = $("#windowPop");
        var width = 900;
        var title = "Binary history "+'#springMessage("common.button.view")'; //조회
        fn_getCommonPopupDiv( url, type, data , target , width, title );
    });

    ##애플 바이너리 파일 history 조회 팝업
    jQuery('#binaryHistoryList_20').click(function(){
        var appPlatIdx = $('#APP_PLAT_IDX_20').val();
        var url = CONTEXT_PATH + "/admin/store/appInfo/binaryHistory";
        var type = "GET";
        var data = "APP_PLAT_IDX=" + appPlatIdx + "&PAGE_NUM=1" ;
        
        var target = $("#windowPop");
        var width = 900;
        var title = "Binary history "+'#springMessage("common.button.view")'; //조회
        fn_getCommonPopupDiv( url, type, data , target , width, title );
    });
  
    ##바이너리 파일 history 팝업 페이지 조회 
    function fn_binaryHistoryList(PAGE_NUM){
        var url  = CONTEXT_PATH + "/admin/store/appInfo/binaryHistory";
        var data = jQuery("form[name=frmSearch]").serialize() + "&PAGE_NUM=" + PAGE_NUM;

		//alert(data);
        var target = jQuery("#binaryHistoryTableDiv");
        var type = "GET";
        //common.js 에 정의
        fn_getCommonList( url, type, data, target );
        fn_page('j_page_div', '$!{CONTEXT_PATH}');
    }      
}); 

  
##파일 선택시 이미지 보기 
function previewImage(targetObj, previewId, width, height) {

    var preview = document.getElementById(previewId); //div id   
    var ua = window.navigator.userAgent;
    $('#' + previewId).empty();
    
    if (ua.indexOf("MSIE") > -1) {//ie일때
        targetObj.select();
        try {
            var src = document.selection.createRange().text; // get file full path 
            var ie_preview_error = document.getElementById("ie_preview_error_" + previewId);

            if (ie_preview_error) {
                preview.removeChild(ie_preview_error); //error가 있으면 delete
            }
            var img = document.getElementById(previewId); //이미지가 뿌려질 곳 

            img.style.filter = "progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"
                    + src + "', sizingMethod='scale')"; //이미지 로딩, sizingMethod는 div에 맞춰서 사이즈를 자동조절 하는 역할
        } catch (e) {
            if (!document.getElementById("ie_preview_error_" + previewId)) {
                var info = document.createElement("<p>");
                info.id = "ie_preview_error_" + previewId;
                info.innerHTML = "not supported FileReader";
                preview.insertBefore(info, null);
            }
        }
    } else { //ie가 아닐때
        var files = targetObj.files;
        for ( var i = 0; i < files.length; i++) {

            var file = files[i];
            var imageType = /image.*/; //이미지 파일일경우만.. 뿌려준다.
            if (!file.type.match(imageType))
                continue;

            var prevImg = document.getElementById("prev_" + previewId); //이전에 미리보기가 있다면 삭제
            if (prevImg) {
                preview.removeChild(prevImg);
            }

            var img = document.createElement("img"); //크롬은 div에 이미지가 뿌려지지 않는다. 그래서 자식Element를 만든다.
            img.id = "prev_" + previewId;
            img.classList.add("obj");
            img.file = file;
            img.style.width = width; //기본설정된 div의 안에 뿌려지는 효과를 주기 위해서 div크기와 같은 크기를 지정해준다.
            img.style.height = height;
            
            preview.appendChild(img);

            if (window.FileReader) { // FireFox, Chrome, Opera 확인.
                var reader = new FileReader();
                reader.onloadend = (function(aImg) {
                    return function(e) {
                        aImg.src = e.target.result;
                    };
                })(img);
                reader.readAsDataURL(file);
            } else { // safari is not supported FileReader
                //alert('not supported FileReader');
                if (!document.getElementById("sfr_preview_error_"
                        + previewId)) {
                    var info = document.createElement("p");
                    info.id = "sfr_preview_error_" + previewId;
                    info.innerHTML = "not supported FileReader";
                    preview.insertBefore(info, null);
                }
            }
        }
    }
}

##중복체크 대상의 값을 임의로 변경했을 경우, 중복체크를 다시 요청하기 위해 검증여부값을 초기화시킴
function dupChkInit(obj){
    if(obj.id == "APP_NM"){
        appNmDupChk = false;
        appNmChangeChk = true;
    }else if(obj.id == "PAKG_ID_10"){
        pkgNmDupChk_10 = false;
        pkgNmChangeChk_10 = true;
    }else if(obj.id == "PAKG_ID_20"){
        bundleIdDupChk_20 = false;
        bundleIdChangeChk_20 = true;
    }else if(obj.id == "CALL_URL"){
        urlSchemeDupChk = false;
        urlSchemeChangeChk = true;
    }  
}

##package명 입력 값 체크
function fn_input_chk(str) {
    var valid = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ01234567890.-_";
    var msg = '#springMessage("menu.store.appManage.alert.limitInput")'; //영문자와 숫자 '.-_'만 입력 가능합니다.
    var rtnVal = true;
    var temp; 
    for (var i=0; i<str.length; i++) { 
        temp = "" + str.substring(i, i+1); 
        if (valid.indexOf(temp) == "-1") {
            alert('#springMessage("menu.store.appManage.alert.inputCheck")'+'\n'+msg); //입력값을 확인해 주세요
            rtnVal = false;
            break;
        }
    }
    return rtnVal;
}   
</script>
<style>
	.headerStyle {float:left;width:33%;height:30px;margin:0;padding-top:12px;font-weight:bold;font-size:14px;text-align:center;border:1px solid #aaa;}
</style>

<div id="dialogPop" title="카테고리 조회" style="display:none;"></div>

<div class="contents-area">
    #### S : 프로그램 위치 기술 부분  ####
    <div class="nav">
		<span>#springMessage("menu.system.serviceAppstore")</span>		<!-- 앱스토어 -->
		<span></span>									
		<span></span>									
	</div>
	<h2 class="page-title"></h2>
    #### E : 프로그램 위치 기술 부분  ####
    
<form name="frmAppInfo" id="frmAppInfo" method="post" enctype="multipart/form-data">   
    <input type="hidden" id="APP_IDX"  name="APP_IDX"  value="$!appInfo.APP_IDX"/>
    
    <h2 class="progression">
		<span class="current">01.#springMessage("menu.store.appManage.baseInfoIn")</span>	<!-- 기본정보입력 -->
		<span>02.#springMessage("menu.store.appManage.detailIn")</span>		<!-- 상세정보입력 -->
		<span>03.#springMessage("menu.store.appManage.registCheck")</span>	<!-- 등록확인 -->
	</h2>
	
    <div class="contents" style="padding-top:15px;">
		<!-- 
        <div style="width:100%;padding-bottom:10px;">
            <div class="headerStyle" for="menu1" id="menu1_title">01.기본정보입력</div>
            <div class="headerStyle" style="background-color:#e9e9e9;" for="menu2" id="menu2_title">02.상세정보입력</div>
            <div class="headerStyle" style="background-color:#e9e9e9;" for="menu3" id="menu3_title">03.등록확인</div>
        </div>
		 -->
        <div id="menu1">
            <!--  01. 기본정보입력  -->
            #parse ("/admin/store/appInfo/appInfoAdd_menu1.vm")
        </div>  
        
        <div id="menu2" style="display:none;">
            <!--  02. 상세정보 입력  -->
            #parse ("/admin/store/appInfo/appInfoAdd_menu2.vm")
        </div>
        <div id="menu3" style="display:none;">
        </div>

        </div><!--  class contents  -->
</form> 
		
	<br><br>
	
    <div class="btn-wrap">
    	<a href="javascript:void(0)" id="appInfoList" class="btn1 type2">#springMessage("common.text.list")</a> <!-- 목록 -->

        #if($!appInfo)
        	<a href="javascript:void(0)" id="appInfoDelete" class="btn1">#springMessage("common.button.delete")</a>	 <!-- 삭제 -->
        	<a href="javascript:void(0)" id="appInfoUpdate" class="btn1" style="display:none">#springMessage("common.button.modify")</a>		<!-- 수정 -->
        #else
        	<a href="javascript:void(0)" id="appInfoSave" class="btn1" style="display:none">#springMessage("common.button.regist")</a>	<!-- 등록 -->
        #end
        
    	<a href="javascript:void(0)" id="nextBtn" class="btn1 fr">#springMessage("menu.store.appManage.nextStep")</a>	<!-- 다음단계 -->
    	<a href="javascript:void(0)" id="beforeBtn" class="btn1 type2 fr">#springMessage("menu.store.appManage.beforeStep")</a>	 <!-- 이전단계 -->
       
    </div>
    
    <br><br>
        
</div> <!--  id conWrap  -->